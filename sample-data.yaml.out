kind: ConfigMap
apiVersion: v1
metadata:
  name: sit-service1service2-as3
  namespace: applicationspace
  labels:
    f5type: virtual-server
    as3: "true"
data:
  template: | 
    {
      "class": "AS3",
      "declaration": {
        "TENANT-CLIENT-DC2_TEST": {
          "Shared": {
            "class": "Application",
            "service_address_172_128_1_1": {
              "class": "Service_Address",
              "virtualAddress": "172.128.1.1",
              "routeAdvertisement": "any"
            },
            "service_address_172_128_1_2": {
              "class": "Service_Address",
              "virtualAddress": "172.128.1.2",
              "routeAdvertisement": "any"
            },
            "service_address_172_128_1_3": {
              "class": "Service_Address",
              "virtualAddress": "172.128.1.3",
              "routeAdvertisement": "any"
            },
            "service1client-dc2-test-443_HTTP_8181": {
              "class": "Monitor",
              "interval": 5,
              "monitorType": "http",
              "targetAddress": "",
              "targetPort": "8181",
              "timeout": 16,
              "transparent": true,
              "adaptive": false,
              "receive": "",
              "send": "GET /rest/highAvailability/v1/status HTTP/1.1\r\nHost:8181\r\nConnection:Close\r\n\r\n"
            },
            "service1client-dc2-test-443_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 443,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service1client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service1client-dc2-test-443_CS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 14700
            },
            "service1client-dc2-test-443_SS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 900
            },
            "service1client-dc2-test-443_VS_443": {
              "class": "Service_TCP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_1"
                }
              ],
              "virtualPort": 443,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service1client-dc2-test-443_POOL",
              "profileTCP": {
                "ingress:": 
                {
                  "use": "service1client-dc2-test-443_CS_PROPF_TCP"
                },
                "egress:": 
                {
                  "use": "service1client-dc2-test-443_SS_PROPF_TCP"
                }
              },
              "mirroring": "L4"
            },
            "service1client-dc2-test-53_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 30053,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service1client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service1client-dc2-test-53_VS_4343": {
              "class": "Service_UDP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_1"
                }
              ],
              "virtualPort": 4343,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service1client-dc2-test-53_POOL"
            },
            "service2client-dc2-test-443_HTTP_8181": {
              "class": "Monitor",
              "interval": 5,
              "monitorType": "http",
              "targetAddress": "",
              "targetPort": "8181",
              "timeout": 16,
              "transparent": true,
              "adaptive": false,
              "receive": "",
              "send": "GET /rest/highAvailability/v1/status HTTP/1.1\r\nHost:8181\r\nConnection:Close\r\n\r\n"
            },
            "service2client-dc2-test-443_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 443,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service2client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service2client-dc2-test-443_CS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 14700
            },
            "service2client-dc2-test-443_SS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 900
            },
            "service2client-dc2-test-443_VS_443": {
              "class": "Service_TCP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_2"
                }
              ],
              "virtualPort": 443,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service2client-dc2-test-443_POOL",
              "profileTCP": {
                "ingress:": 
                {
                  "use": "service2client-dc2-test-443_CS_PROPF_TCP"
                },
                "egress:": 
                {
                  "use": "service2client-dc2-test-443_SS_PROPF_TCP"
                }
              },
              "mirroring": "L4"
            },
            "service2client-dc2-test-53_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 30054,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service2client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service2client-dc2-test-53_VS_4343": {
              "class": "Service_UDP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_2"
                }
              ],
              "virtualPort": 4343,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service2client-dc2-test-53_POOL"
            },
            "service3client-dc2-test-443_HTTP_8181": {
              "class": "Monitor",
              "interval": 5,
              "monitorType": "http",
              "targetAddress": "",
              "targetPort": "8181",
              "timeout": 16,
              "transparent": true,
              "adaptive": false,
              "receive": "",
              "send": "GET /rest/highAvailability/v1/status HTTP/1.1\r\nHost:8181\r\nConnection:Close\r\n\r\n"
            },
            "service3client-dc2-test-443_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 443,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service3client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service3client-dc2-test-443_CS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 14700
            },
            "service3client-dc2-test-443_SS_PROPF_TCP": {
              "class": "TCP_Profile",
              "idleTimeout": 14880,
              "keepAliveInterval": 900
            },
            "service3client-dc2-test-443_VS_443": {
              "class": "Service_TCP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_3"
                }
              ],
              "virtualPort": 443,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service3client-dc2-test-443_POOL",
              "profileTCP": {
                "ingress:": 
                {
                  "use": "service3client-dc2-test-443_CS_PROPF_TCP"
                },
                "egress:": 
                {
                  "use": "service3client-dc2-test-443_SS_PROPF_TCP"
                }
              },
              "mirroring": "L4"
            },
            "service3client-dc2-test-53_POOL": {
              "class": "Pool",
              "members": [
                {
                  "serverAddresses": [],
                  "servicePort": 30055,
                  "shareNodes": true
                }
              ],
              "monitors": [
                { 
                  "use": "service3client-dc2-test-443_HTTP_8181"
                }
              ],
              "minimumMonitors": 1
            },
            "service3client-dc2-test-53_VS_4343": {
              "class": "Service_UDP",
              "virtualAddresses": [
                {
                  "use": "service_address_172_128_1_3"
                }
              ],
              "virtualPort": 4343,
              "snat": {
                "bigip": "/Common/Service_SNATPOOL"
              },
              "pool": "service3client-dc2-test-53_POOL"
            },
            "template": "shared"
          },
          "class": "Tenant",
          "defaultRouteDomain": 3
        },
        "class": "ADC",
        "label": "CIS AS3 ConfigMap for applicationspace service1 to service3 in TEST DC2",
        "remark": "CIS AS3 ConfigMap for applicationspace service1 to service3 in TEST DC2",
        "schemaVersion": "3.45.0"
      }
    }
